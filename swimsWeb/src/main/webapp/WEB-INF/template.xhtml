<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title><ui:insert name="title">SWIMS</ui:insert></title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<h:outputStylesheet name="/css/primeflex.min.css" />
</h:head>
<h:body>
	<!-- onLoad -->
	<ui:insert name="onLoad"></ui:insert>

	<!-- Notifications -->
	<p:growl>
		<p:autoUpdate />
	</p:growl>

	<!-- Navigation bar predefined by default but overrideable -->
	<ui:insert name="navigationBar">
		<div>
			<h:form>
				<p:menubar>
					<p:menuitem icon="pi pi-fw pi-home" value="Inicio"
						action="/index?faces-redirect=true"></p:menuitem>
					<p:submenu
						rendered="#{authBean.verifyRenderabilityByOneWebappPath(webappPathsBean.HARVESTING_OAI_SETS_MANAGEMENT_WEBAPP_PATH, webappPathsBean.HARVESTING_OAI_RECORDS_INCLUSION_SET_SELECTION_WEBAPP_PATH)}"
						label="Adquisición de datos" icon="pi pi-fw pi-book">
						<p:menuitem value="Administración de Sets OAI"
							icon="pi pi-fw pi-cog"
							action="#{oaiSetsManagementBean.loadPage()}"
							rendered="#{authBean.verifyRenderabilityByAllWebappPaths(webappPathsBean.HARVESTING_OAI_SETS_MANAGEMENT_WEBAPP_PATH)}">
						</p:menuitem>
						<p:menuitem
							rendered="#{authBean.verifyRenderabilityByAllWebappPaths(webappPathsBean.HARVESTING_OAI_RECORDS_INCLUSION_WEBAPP_PATH)}"
							icon="pi pi-fw pi-plus" value="Inclusión de Registros OAI"
							action="#{setSelectionBean.loadPage()}"></p:menuitem>
					</p:submenu>
					<p:submenu
						rendered="#{authBean.verifyRenderabilityByOneWebappPath(webappPathsBean.AUTH_PERMISSION_MANAGEMENT_WEBAPP_PATH)}"
						label="Autenticación y Autorización" icon="pi pi-fw pi-cog">
						<p:menuitem value="Administración de Permisos"
							action="#{permissionManagementBean.loadPage()}"
							rendered="#{authBean.verifyRenderabilityByAllWebappPaths(webappPathsBean.AUTH_PERMISSION_MANAGEMENT_WEBAPP_PATH)}">
						</p:menuitem>
						<p:menuitem value="Administración de Usuarios"
							action="#{userManagementBean.loadPage()}"
							rendered="#{authBean.verifyRenderabilityByAllWebappPaths(webappPathsBean.AUTH_USER_MANAGEMENT_WEBAPP_PATH)}">
						</p:menuitem>
					</p:submenu>
					<f:facet name="options">
						<div style="display: flex; align-items: center;">
							<h:outputText value="#{signInBean.signedUserDto.firstName}"
								rendered="#{signInBean.signedUserDto ne null}"
								styleClass="p-text-bold p-mr-2" />
							<p:commandButton id="dynaButton" type="button"
								icon="pi pi-angle-down" />
						</div>
						<p:menu overlay="true" trigger="dynaButton" my="right top"
							at="right bottom">
							<p:submenu label="Sesión">
								<p:menuitem action="#{authBean.signOutAction()}"
									value="Cerrar Sesión" icon="pi pi-fw pi-sign-out"
									rendered="#{signInBean.signedUserDto ne null}" />
								<p:menuitem action="#{signInBean.loadPage()}"
									value="Iniciar Sesión" icon="pi pi-fw pi-sign-in"
									rendered="#{signInBean.signedUserDto eq null}" />
							</p:submenu>
						</p:menu>
					</f:facet>
				</p:menubar>
			</h:form>
		</div>
	</ui:insert>

	<!-- content -->
	<ui:insert name="contentContainer">
		<div class="p-pt-2">
			<ui:insert name="content" />
		</div>
	</ui:insert>

	<ui:insert name="dialogs"></ui:insert>
</h:body>
</html>